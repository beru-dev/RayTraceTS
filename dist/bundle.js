(()=>{"use strict";const t=require("fs");var n=function(t,n,r){return[t,n,r]},r=function(t){return t>1?t=1:t<0&&(t=0),Math.round(255*t)};const i=function(){function t(t,r){this.width=t,this.height=r,this.pixels=[];for(var i=0;i<t*r;i++)this.pixels.push(n(0,0,0))}return t.prototype.coordsToIndex=function(t,n){t=Math.round(t);var r=(n=Math.round(n))*this.width+t;return r>=0&&r+1<=this.pixels.length?r:void 0},t.prototype.pixelAt=function(t,n){return this.pixels[this.coordsToIndex(t,n)]},t.prototype.writePixel=function(t,n,r){var i=this.coordsToIndex(t,n);i>=0&&(this.pixels[i]=r)},t.prototype.canvasToPpm=function(){return"P3\n"+this.width+" "+this.height+"\n255\n"+this.getPixelData()},t.prototype.getPixelData=function(){for(var t="",n=0;n<this.height;n++)t+=this.getPixelRowData(n*this.width,(n+1)*this.width);return t},t.prototype.getPixelRowData=function(t,n){var i=this.pixels.slice(t,n),o="",e=-1;return i.forEach((function(t){(function(t){return[r(t[0]),r(t[1]),r(t[2])]})(t).forEach((function(t){var n=" ",r=t.toString().length;e<=0&&(n=""),e+r+1>70&&(n="\n",e=-1),o+=""+n+t,e+=r+1}))})),o+"\n"},t}();var o=function(){function t(t,n,r){r.length===t*n?(this.matrix=r,this.rows=t,this.columns=n):this.error="New Matrix constructor error. The input matrix should be "+t*n+" elements long, but is actually "+r.length+" elements long."}return t.prototype.index=function(t,n,r){if(t*n<=this.matrix.length-1)return void 0!==r?this.matrix[t*this.columns+n]=r:this.matrix[t*this.columns+n]},t.prototype.transpose=function(){for(var n=[],r=0;r<this.columns;r++)for(var i=0;i<this.rows;i++)n.push(this.index(i,r));return new t(this.columns,this.rows,n)},t.prototype.toString=function(){var t=this,n="";return this.matrix.forEach((function(r,i){var o=" ",e=i%t.columns==0;0!==i&&e&&(o=" / "),n+=""+o+r})),"["+n+" ]"},t}(),e=(new o(4,4,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),function(t,n){if(16===t.matrix.length){for(var r=[],i=0;i<4;i++){for(var o=0,e=0;e<4;e++)o+=t.index(i,e)*n[e];r.push(o)}return[r[0],r[1],r[2],r[3]]}return null});!function(){for(var r,s=[0,1,0,1],h=new i(200,200),u=(r=Math.PI/6,new o(4,4,[Math.cos(r),-Math.sin(r),0,0,Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1])),a=function(t,n){if(t.columns===n.rows){for(var r=[],i=0;i<t.rows;i++)for(var e=0;e<n.columns;e++){for(var s=0,h=0;h<t.columns;h++)s+=t.index(i,h)*n.index(h,e);r.push(s)}return new o(t.rows,n.columns,r)}return null}(new o(4,4,[1,0,0,100,0,1,0,100,0,0,1,0,0,0,0,1]),new o(4,4,[75,0,0,0,0,75,0,0,0,0,0,0,0,0,0,1])),c=0;c<12;c++){var l=e(a,s);console.log(l[0]+" | "+(200-l[1])),h.writePixel(l[0],200-l[1],n(1,1,1)),s=e(u,s)}var f=h.canvasToPpm();(0,t.writeFile)("clock_200x200.ppm",f,(function(t){if(t)return console.log(t)}))}()})();